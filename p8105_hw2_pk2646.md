Homework 2
================
Pallavi Krishnamurthy

This is my solution to Homework two.

``` r
library(tidyverse)
```

    ## ── Attaching packages ──────────────────────────────────────────────────────────────────────────────────── tidyverse 1.3.0 ──

    ## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
    ## ✓ tibble  3.0.3     ✓ dplyr   1.0.0
    ## ✓ tidyr   1.1.0     ✓ stringr 1.4.0
    ## ✓ readr   1.3.1     ✓ forcats 0.5.0

    ## ── Conflicts ─────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

## Problem 1

### Part 1

Read the Mr. Trashwheel dataset.

``` r
trashwheel_df = 
  read_xlsx(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = cell_cols("A:N")) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls),
    sports_balls = as.integer(sports_balls)
  )
```

### Part 2

Read and clean the 2017 and 2018 Precipitation data.

``` r
precip_2018 = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    skip = 1
  ) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2018) %>% 
  relocate(year)

precip_2017 = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    skip = 1
  ) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2017) %>% 
  relocate(year)
```

Combine the 2017 and 2018 datasets by creating a new dataframe
precip\_df.

``` r
month_df = 
  tibble(
    month = 1:12,
    month_name = month.name
  )

precip_df = 
  bind_rows(precip_2017, precip_2018)

precip_joined = left_join(precip_df, month_df, by = "month")
```

### Part 3

This dataset contains information from the Mr. Trash Wheel collector in
Baltimore, Maryland. The trash wheel collects trash and stores it in the
dumpster. The dataset contains information on year, month, and trash
collected and including specific type of trash. There are a total of 344
rows in our final dataset. Additional data sheets include month
precipitation data. The total precipitation in 2018 is 70.33. The median
number of sports balls in a dumpster in 2017 is 8

## Problem 2

### Part 1

Read and clean NYC transit dataset.

``` r
transit_df = (
  read_csv(file = "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line:entry, vending, ada)
  )
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_double(),
    ##   Route9 = col_double(),
    ##   Route10 = col_double(),
    ##   Route11 = col_double(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

``` r
transit_df$entry[transit_df$entry == "YES"] = 1
transit_df$entry[transit_df$entry == "NO"] = 0
transit_df$entry = as.integer(transit_df$entry)
```

This dataset contains information on th NYC transit system. The
following information is available in this dataset line, station\_name,
station\_latitude, station\_longitude, route1, route2, route3, route4,
route5, route6, route7, route8, route9, route10, route11,
entrance\_type, entry, vending, ada.The data cleaning steps included
clean\_names function to convert all the variable names to readable
forms using snake case and only the important variables we case about
are selected in the dataset. The dimensions of the dataset are 35492.
The number of variables in the dataset are 19 and the number of
observations in the dataset are 1868. This dataset is now tidy.

### Part 2

How many distinct stations are there?

``` r
x = nrow(distinct(transit_df, station_name, line))
```

The number of distinct stations are 465.

How many stations are ADA compliant?

``` r
y = (filter(transit_df, ada == "TRUE") %>% 
distinct(station_name, line) %>% 
count())
```

There are ADA compliant stations.

What proportion of station entrances / exits without vending allow
entrance?

``` r
a = count(filter(transit_df, vending == "NO" ))
b = (count(filter(transit_df, vending == "NO", entry == "1")))
c = b/a
```

The proportion of station entrances / exits without vending that allow
entrance is .

Reformat data so that route number and route name are distinct
variables.

``` r
transit_df = 
  mutate(transit_df, 
         route8 = as.character(route8)) %>% 
  mutate(route9 = as.character(route9)) %>% 
  mutate(route10 = as.character(route10)) %>% 
  mutate(route11 = as.character(route11))

transit_df =         
   pivot_longer(
    transit_df,
    route1:route11,
    names_to = "route_number", 
    values_to = "route_name")
```

How many distinct stations serve the A train?

``` r
d = (filter(transit_df, route_name == "A") %>% 
distinct(station_name, line) %>% 
count())
```

The number of distinct stations that serve A train is .

Of the stations that serve the A train, how many are ADA compliant?

``` r
e = (filter(transit_df, route_name == "A", ada == "TRUE") %>% 
distinct(station_name, line) %>% 
count())
```

Of the stations that serve the A train, are ADA compliant.
